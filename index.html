<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRYPTBLOX | The Digital Vault</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');
        
        :root {
            --theme-color: #fbbf24;
            --theme-glow: rgba(251, 191, 36, 0.4);
            --theme-border: rgba(251, 191, 36, 0.2);
        }

        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: #050505; 
            color: white; 
            margin: 0; 
            overflow-x: hidden; 
        }

        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: var(--theme-color); border-radius: 10px; }

        .glass-nav { 
            background: rgba(5, 5, 5, 0.95); 
            backdrop-filter: blur(15px); 
            border-bottom: 1px solid var(--theme-border); 
        }

        .vault-card {
            background: linear-gradient(145deg, #0f0f0f, #050505);
            border: 1px solid var(--theme-border);
            transition: all 0.3s ease;
        }

        .theme-card {
            background: #0a0a0a;
            border: 1px solid rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .theme-card:hover { border-color: rgba(255, 255, 255, 0.2); }
        .theme-card.active { border-color: var(--theme-color); box-shadow: 0 0 15px var(--theme-glow); }

        .particle {
            position: fixed;
            top: -10%;
            pointer-events: none;
            z-index: 0;
        }

        .breathing-line {
            height: 2px;
            background: var(--theme-color);
            box-shadow: 0 0 15px var(--theme-color);
            margin: 20px auto;
        }

        .panel-glow:hover {
            box-shadow: 0 0 30px var(--theme-glow), inset 0 0 15px rgba(255, 255, 255, 0.02);
            border-color: var(--theme-color);
        }

        .discord-button {
            background: #3c4ae0;
            box-shadow: 0 0 15px rgba(88, 101, 242, 0.4);
        }

        .text-theme { color: var(--theme-color); }
        .bg-theme { background-color: var(--theme-color); }
        
        /* Stock badge styles */
        .stock-badge {
            font-size: 10px;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: 900;
            letter-spacing: 0.5px;
        }
        
        .stock-in { background: #22c55e; color: white; }
        .stock-out { background: #ef4444; color: white; }
        .stock-low { background: #f59e0b; color: white; }
        
        /* Admin panel styles */
        .admin-panel {
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid var(--theme-border);
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.8);
        }
        
        /* Login modal styles */
        .login-modal {
            background: linear-gradient(135deg, #0a0a0a 0%, #050505 100%);
            border: 1px solid var(--theme-border);
            box-shadow: 0 0 50px var(--theme-glow);
        }
        
        .password-input {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .password-input:focus {
            border-color: var(--theme-color);
            box-shadow: 0 0 15px var(--theme-glow);
        }
        
        /* Supplier become button */
        .become-supplier-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
        }
        
        .become-supplier-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.6);
        }
        
        /* Feature card */
        .feature-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
            border: 1px solid rgba(255,255,255,0.05);
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            border-color: var(--theme-border);
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }
        
        /* Search bar styles */
        .search-bar {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .search-bar:focus {
            border-color: var(--theme-color);
            box-shadow: 0 0 15px var(--theme-glow);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .search-results-dropdown {
            background: rgba(15, 15, 15, 0.98);
            backdrop-filter: blur(20px);
            border: 1px solid var(--theme-border);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }
        
        .search-highlight {
            background: rgba(251, 191, 36, 0.2);
            color: var(--theme-color);
            padding: 0 2px;
            border-radius: 2px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { motion, AnimatePresence } = window.Motion;

        const THEME_OPTIONS = [
            { id: 'classic', name: 'Classic', label: 'Classic', color: '#fbbf24', glow: 'rgba(251, 191, 36, 0.4)' },
            { id: 'blue', name: 'Blue', label: 'Ocean', color: '#3b82f6', glow: 'rgba(59, 130, 246, 0.4)' },
            { id: 'green', name: 'Green', label: 'Nature', color: '#22c55e', glow: 'rgba(34, 197, 94, 0.4)' },
            { id: 'orange', name: 'Orange', label: 'Honey', color: '#f97316', glow: 'rgba(249, 115, 22, 0.4)' },
            { id: 'purple', name: 'Purple', label: 'Lollipop', color: '#a855f7', glow: 'rgba(168, 85, 247, 0.4)' },
            { id: 'red', name: 'Red', label: 'Crimson Vault', color: '#ef4444', glow: 'rgba(239, 68, 68, 0.4)' }
        ];

        const CATEGORIES = {
            limiteds: [
                { name: 'Low Value', icon: 'üëë' },
                { name: 'High Value', icon: 'üé≠' },
                { name: 'Bundles', icon: 'üì¶' },
                { name: 'Limited Stock', icon: '‚ö†Ô∏è' },
            ],
            accounts: [
                { name: 'Age Verified Accounts', icon: 'üìÖ' },
                { name: 'VC Activated', icon: 'üéôÔ∏è' },
                { name: 'Preloaded Robux Accounts', icon: 'üíé' },
                { name: 'Preloaded Item Accounts', icon: 'üíé' },
            ],
            items: [
                { name: 'Fisch', icon: 'üêü' },
                { name: 'Fish It!', icon: 'üé£' },
                { name: 'Blox Fruits', icon: 'üåä' },
                { name: 'MM2', icon: 'üî™' },
            ]
        };

        const DISCORD_LINK = "https://discord.gg/zPefQsB4nu";
        
        // Admin credentials
        const ADMIN_CREDENTIALS = {
            username: 'admin',
            password: 'Cryptic'
        };

        // Initial data structure for items
        const INITIAL_ITEMS_DATA = {
            limiteds: {
                'Low Value': [
                    { id: 1, name: 'Classic Halo', price: 450, stock: 5, enabled: true, description: 'Rare classic halo', category: 'limiteds', subCategory: 'Low Value' },
                    { id: 2, name: 'Pixel Shades', price: 120, stock: 3, enabled: true, description: 'Limited edition shades', category: 'limiteds', subCategory: 'Low Value' }
                ],
                'High Value': [
                    { id: 3, name: 'Dominus Empyreus', price: 1500, stock: 1, enabled: true, description: 'Ultra rare dominus', category: 'limiteds', subCategory: 'High Value' }
                ],
                'Bundles': [],
                'Limited Stock': []
            },
            accounts: {
                'Age Verified Accounts': [
                    { id: 4, name: 'Premium Age Verified', price: 80, stock: 10, enabled: true, description: 'Full access account', category: 'accounts', subCategory: 'Age Verified Accounts' }
                ],
                'VC Activated': [],
                'Preloaded Robux Accounts': [],
                'Preloaded Item Accounts': []
            },
            items: {
                'Fisch': [
                    { id: 5, name: 'Golden Fish', price: 25, stock: 20, enabled: true, description: 'Special golden fish item', category: 'items', subCategory: 'Fisch' }
                ],
                'Fish It!': [],
                'Blox Fruits': [],
                'MM2': []
            }
        };

        // Supplier data structure
        const SUPPLIERS_DATA = [
            { id: 1, name: 'None! Become one!', rating: 'None', items: 0, status: 'Pending', icon: 'üëë' },
        ];

        const ParticleFall = ({ themeColor }) => {
            const [flakes, setFlakes] = useState([]);
            useEffect(() => {
                const createFlake = () => ({
                    id: Math.random(),
                    x: Math.random() * window.innerWidth,
                    size: Math.random() * 1 + 0.5,
                    duration: Math.random() * 5 + 5,
                    char: '‚ú¶'
                });
                setFlakes(Array.from({ length: 20 }, createFlake));
            }, []);

            return (
                <div className="fixed inset-0 overflow-hidden pointer-events-none">
                    {flakes.map(flake => (
                        <motion.div
                            key={flake.id}
                            className="particle"
                            initial={{ y: "-10%", x: flake.x }}
                            animate={{ y: "110vh" }}
                            transition={{ duration: flake.duration, repeat: Infinity, ease: "linear" }}
                            style={{ fontSize: `${flake.size}rem`, color: themeColor + '33' }}
                        >
                            {flake.char}
                        </motion.div>
                    ))}
                </div>
            );
        };

        const StockBadge = ({ stock }) => {
            if (stock === 0) return <span className="stock-badge stock-out">OUT OF STOCK</span>;
            if (stock <= 5) return <span className="stock-badge stock-low">LOW STOCK: {stock}</span>;
            return <span className="stock-badge stock-in">IN STOCK: {stock}</span>;
        };

        const SearchBar = ({ onSearch, searchQuery, onClear, onItemSelect }) => {
            const [isFocused, setIsFocused] = useState(false);
            const inputRef = React.useRef(null);

            const handleClear = (e) => {
                e.stopPropagation();
                onClear();
                if (inputRef.current) {
                    inputRef.current.focus();
                }
            };

            return (
                <div className="relative w-full max-w-md">
                    <div className="relative">
                        <input
                            ref={inputRef}
                            type="text"
                            value={searchQuery}
                            onChange={(e) => onSearch(e.target.value)}
                            onFocus={() => setIsFocused(true)}
                            onBlur={() => setTimeout(() => setIsFocused(false), 200)}
                            placeholder="Search items, suppliers, categories..."
                            className="search-bar w-full px-4 py-3 pl-12 rounded-2xl outline-none text-white placeholder-gray-400 text-sm"
                        />
                        <div className="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400">
                            üîç
                        </div>
                        {searchQuery && (
                            <button
                                onClick={handleClear}
                                className="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white"
                            >
                                ‚úï
                            </button>
                        )}
                    </div>
                </div>
            );
        };

        const SearchResults = ({ results, query, onItemSelect, onClose }) => {
            if (!query || results.length === 0) return null;

            const highlightText = (text) => {
                if (!query) return text;
                const regex = new RegExp(`(${query})`, 'gi');
                const parts = text.split(regex);
                return parts.map((part, i) =>
                    regex.test(part) ? <span key={i} className="search-highlight">{part}</span> : part
                );
            };

            return (
                <motion.div
                    initial={{ opacity: 0, y: 10 }}
                    animate={{ opacity: 1, y: 0 }}
                    exit={{ opacity: 0, y: 10 }}
                    className="search-results-dropdown absolute top-full left-0 right-0 mt-2 rounded-2xl overflow-hidden z-[1000]"
                >
                    <div className="p-4">
                        <div className="flex justify-between items-center mb-4">
                            <h3 className="text-sm font-black uppercase text-theme">Search Results ({results.length})</h3>
                            <button onClick={onClose} className="text-xs text-gray-400 hover:text-white">
                                Close
                            </button>
                        </div>
                        
                        <div className="space-y-2 max-h-[400px] overflow-y-auto">
                            {results.map((result, index) => (
                                <motion.div
                                    key={`${result.type}-${result.id || result.name}`}
                                    initial={{ opacity: 0, x: -20 }}
                                    animate={{ opacity: 1, x: 0 }}
                                    transition={{ delay: index * 0.05 }}
                                    onClick={() => onItemSelect(result)}
                                    className="p-3 hover:bg-white/5 rounded-xl cursor-pointer transition-all border border-white/5 hover:border-white/10"
                                >
                                    <div className="flex items-center gap-3">
                                        <div className="text-xl">
                                            {result.type === 'item' ? 'üì¶' : 
                                             result.type === 'supplier' ? 'ü§ù' : 
                                             result.type === 'category' ? 'üìÅ' : 'üîç'}
                                        </div>
                                        <div className="flex-1">
                                            <div className="font-black text-sm uppercase tracking-tight">
                                                {highlightText(result.name)}
                                            </div>
                                            <div className="flex items-center gap-2 mt-1">
                                                <span className="text-xs text-gray-400">
                                                    {result.type === 'item' ? `$${result.price}` : 
                                                     result.type === 'supplier' ? `${result.items} items` :
                                                     result.type === 'category' ? `${result.count} items` : ''}
                                                </span>
                                                {result.type === 'item' && (
                                                    <StockBadge stock={result.stock} />
                                                )}
                                                <span className="text-[10px] px-2 py-1 bg-white/5 rounded-lg uppercase font-black">
                                                    {result.type}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </motion.div>
                            ))}
                        </div>
                        
                        {results.length === 0 && (
                            <div className="text-center py-8">
                                <div className="text-4xl mb-4 opacity-30">üîç</div>
                                <p className="text-gray-400 font-bold">No results found for "{query}"</p>
                                <p className="text-sm text-gray-500 mt-2">Try different keywords or browse categories</p>
                            </div>
                        )}
                    </div>
                </motion.div>
            );
        };

        const SupplierCard = ({ supplier }) => (
            <motion.div 
                whileHover={{ y: -5 }} 
                className="vault-card p-6 rounded-2xl"
            >
                <div className="flex items-start justify-between mb-4">
                    <div className="flex items-center gap-4">
                        <div className="text-3xl">{supplier.icon}</div>
                        <div>
                            <h3 className="text-xl font-black uppercase italic tracking-tight mb-1">{supplier.name}</h3>
                            <div className="flex items-center gap-3">
                                <span className="text-theme font-bold">{supplier.rating}</span>
                                <span className="text-gray-400 text-sm">‚Ä¢ {supplier.items} items</span>
                            </div>
                        </div>
                    </div>
                    <span className={`px-3 py-1 rounded-lg text-xs font-black uppercase ${
                        supplier.status === 'Active' ? 'bg-green-500' :
                        supplier.status === 'Pending' ? 'bg-yellow-500' :
                        'bg-blue-500'
                    }`}>
                        {supplier.status}
                    </span>
                </div>
                
                <div className="flex justify-between items-center pt-4 border-t border-white/10">
                    <button className="px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-xs font-black uppercase transition-all">
                        View Items
                    </button>
                    <button className="px-4 py-2 bg-theme text-black font-black uppercase rounded-lg hover:opacity-90 transition-all">
                        Contact
                    </button>
                </div>
            </motion.div>
        );

        const BecomeSupplierSection = () => (
            <motion.div 
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                className="vault-card p-10 rounded-3xl mb-12 text-center relative overflow-hidden"
            >
                {/* Background gradient */}
                <div className="absolute inset-0 bg-gradient-to-r from-purple-900/20 to-blue-900/20" />
                
                <div className="relative z-10">
                    <div className="text-6xl mb-6">ü§ù</div>
                    <h2 className="text-4xl font-black uppercase italic tracking-tighter mb-4">Become a Supplier</h2>
                    <p className="text-gray-400 text-lg max-w-2xl mx-auto mb-8 font-bold">
                        Join our elite network of trusted suppliers and start earning premium rates for your digital assets.
                    </p>
                    
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                        {[
                            { icon: 'üí∞', title: 'High Earnings', desc: 'Top-tier commission rates' },
                            { icon: '‚ö°', title: 'Fast Payments', desc: 'Daily or weekly payouts' },
                            { icon: 'üõ°Ô∏è', title: 'Full Protection', desc: 'Secure transactions guaranteed' }
                        ].map((feature, i) => (
                            <div key={i} className="feature-card p-6 rounded-2xl">
                                <div className="text-3xl mb-4">{feature.icon}</div>
                                <h4 className="font-black uppercase mb-2 text-lg">{feature.title}</h4>
                                <p className="text-gray-400 text-sm">{feature.desc}</p>
                            </div>
                        ))}
                    </div>
                    
                    <div className="flex flex-col sm:flex-row gap-4 justify-center items-center">
                        <button 
                            onClick={() => window.open(DISCORD_LINK, '_blank')}
                            className="become-supplier-btn px-10 py-5 rounded-2xl font-black text-lg uppercase tracking-wider flex items-center gap-3"
                        >
                            <svg width="24" height="24" fill="white" viewBox="0 0 24 24">
                                <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.862-1.297 1.197-1.99a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.863-.886.077.077 0 0 1-.008-.128c.125-.094.248-.192.366-.293a.077.077 0 0 1 .081-.01c3.927 1.795 8.18 1.795 12.067 0a.076.076 0 0 1 .081.01c.118.101.241.199.366.293a.077.077 0 0 1-.007.128 12.933 12.933 0 0 1-1.863.886.076.076 0 0 0-.041.106c.335.693.735 1.36 1.197 1.99a.078.078 0 0 0 .084.028 19.83 19.83 0 0 0 6.024-3.03.077.077 0 0 0 .032-.057c.48-5.147-.815-9.645-3.578-13.66a.071.071 0 0 0-.033-.027zM8.02 15.33c-1.18 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.18 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
                            </svg>
                            Join Our Discord to Apply
                        </button>
                        
                        <div className="text-gray-400 text-sm font-bold max-w-xs">
                            Click above to join our Discord server and apply in the #supplier-application channel
                        </div>
                    </div>
                    
                    <div className="mt-8 pt-8 border-t border-white/10">
                        <h4 className="font-black uppercase mb-4 text-theme">Requirements:</h4>
                        <div className="flex flex-wrap justify-center gap-4">
                            {[
                                'Verified Discord Account',
                                'Minimum 50 items available',
                                'Positive reputation',
                                'Active availability'
                            ].map((req, i) => (
                                <span key={i} className="px-4 py-2 bg-white/5 rounded-lg text-sm font-bold">
                                    ‚úì {req}
                                </span>
                            ))}
                        </div>
                    </div>
                </div>
            </motion.div>
        );

        const ItemCard = ({ item, onToggleStock, onEdit, onDelete, isAdmin = false, highlightQuery = '' }) => {
            const highlightText = (text) => {
                if (!highlightQuery || !text) return text;
                const regex = new RegExp(`(${highlightQuery})`, 'gi');
                const parts = text.split(regex);
                return parts.map((part, i) =>
                    regex.test(part) ? <span key={i} className="search-highlight">{part}</span> : part
                );
            };

            return (
                <motion.div 
                    whileHover={{ y: -5 }} 
                    className="vault-card p-6 rounded-2xl relative"
                >
                    <div className="flex justify-between items-start mb-4">
                        <div>
                            <h3 className="text-xl font-black uppercase italic tracking-tight mb-1">
                                {highlightQuery ? highlightText(item.name) : item.name}
                            </h3>
                            <p className="text-gray-400 text-sm mb-2">
                                {highlightQuery ? highlightText(item.description) : item.description}
                            </p>
                        </div>
                        <div className="flex items-center gap-2">
                            <StockBadge stock={item.stock} />
                            {isAdmin && (
                                <button 
                                    onClick={() => onToggleStock(item.id)}
                                    className={`px-3 py-1 rounded-lg text-xs font-black uppercase ${item.enabled ? 'bg-green-500' : 'bg-red-500'}`}
                                >
                                    {item.enabled ? 'ON' : 'OFF'}
                                </button>
                            )}
                        </div>
                    </div>
                    
                    <div className="flex justify-between items-center">
                        <div className="text-3xl font-black text-theme">${item.price}</div>
                        {isAdmin ? (
                            <div className="flex gap-2">
                                <button 
                                    onClick={() => onEdit(item)}
                                    className="px-4 py-2 bg-theme/20 hover:bg-theme/30 text-theme rounded-lg text-xs font-black uppercase transition-all"
                                >
                                    Edit
                                </button>
                                <button 
                                    onClick={() => onDelete(item.id)}
                                    className="px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg text-xs font-black uppercase transition-all"
                                >
                                    Delete
                                </button>
                            </div>
                        ) : (
                            <button className="px-6 py-2 bg-theme text-black font-black uppercase rounded-lg hover:opacity-90 transition-all">
                                Add to Cart
                            </button>
                        )}
                    </div>
                </motion.div>
            );
        };

        const LoginModal = ({ onLogin, onClose }) => {
            const [username, setUsername] = useState('');
            const [password, setPassword] = useState('');
            const [error, setError] = useState('');
            const [isLoading, setIsLoading] = useState(false);

            const handleSubmit = (e) => {
                e.preventDefault();
                setError('');
                
                if (!username.trim() || !password.trim()) {
                    setError('Please enter both username and password');
                    return;
                }

                setIsLoading(true);
                
                // Simulate API call
                setTimeout(() => {
                    if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
                        onLogin();
                        onClose();
                    } else {
                        setError('Invalid credentials. Try admin / Cryptic');
                    }
                    setIsLoading(false);
                }, 500);
            };

            return (
                <motion.div 
                    initial={{ opacity: 0 }}
                    animate={{ opacity: 1 }}
                    exit={{ opacity: 0 }}
                    className="fixed inset-0 z-[300] flex items-center justify-center p-6"
                >
                    <motion.div 
                        initial={{ opacity: 0 }}
                        animate={{ opacity: 1 }}
                        exit={{ opacity: 0 }}
                        onClick={onClose}
                        className="absolute inset-0 bg-black/90 backdrop-blur-sm"
                    />
                    
                    <motion.div 
                        initial={{ scale: 0.9, opacity: 0, y: 20 }}
                        animate={{ scale: 1, opacity: 1, y: 0 }}
                        exit={{ scale: 0.9, opacity: 0, y: 20 }}
                        className="login-modal relative w-full max-w-md rounded-3xl p-8"
                    >
                        <div className="flex justify-between items-center mb-8">
                            <div>
                                <h2 className="text-2xl font-black uppercase italic tracking-tight mb-2 text-theme">Admin Access</h2>
                                <p className="text-gray-400 text-sm">Enter credentials to manage items</p>
                            </div>
                            <button 
                                onClick={onClose}
                                className="text-gray-500 hover:text-white text-xl"
                            >
                                ‚úï
                            </button>
                        </div>

                        <form onSubmit={handleSubmit} className="space-y-6">
                            <div>
                                <label className="block text-sm font-black uppercase mb-3 text-gray-400">Username</label>
                                <input
                                    type="text"
                                    value={username}
                                    onChange={(e) => setUsername(e.target.value)}
                                    className="password-input w-full p-4 rounded-xl outline-none transition-all text-white"
                                    placeholder="Enter username"
                                    disabled={isLoading}
                                />
                            </div>
                            
                            <div>
                                <label className="block text-sm font-black uppercase mb-3 text-gray-400">Password</label>
                                <input
                                    type="password"
                                    value={password}
                                    onChange={(e) => setPassword(e.target.value)}
                                    className="password-input w-full p-4 rounded-xl outline-none transition-all text-white"
                                    placeholder="Enter password"
                                    disabled={isLoading}
                                />
                            </div>
                            
                            {error && (
                                <motion.div 
                                    initial={{ opacity: 0, y: -10 }}
                                    animate={{ opacity: 1, y: 0 }}
                                    className="bg-red-500/20 border border-red-500/30 text-red-400 p-3 rounded-xl text-sm font-bold"
                                >
                                    ‚ö†Ô∏è {error}
                                </motion.div>
                            )}
                            
                            <div className="text-xs text-gray-500 font-bold italic pt-2">
                                <p>Demo Credentials:</p>
                                <p>Username: <span className="text-theme">admin</span></p>
                                <p>Password: <span className="text-theme">Cryptic</span></p>
                            </div>

                            <button
                                type="submit"
                                disabled={isLoading}
                                className="w-full py-4 bg-theme text-black font-black uppercase rounded-xl hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed"
                            >
                                {isLoading ? (
                                    <span className="flex items-center justify-center gap-2">
                                        <motion.span
                                            animate={{ rotate: 360 }}
                                            transition={{ duration: 1, repeat: Infinity, ease: "linear" }}
                                            className="inline-block"
                                        >
                                            ‚öôÔ∏è
                                        </motion.span>
                                        Verifying...
                                    </span>
                                ) : 'Access Admin Panel'}
                            </button>
                        </form>
                    </motion.div>
                </motion.div>
            );
        };

        const AdminPanel = ({ category, subCategory, items, onAddItem, onUpdateItem, onDeleteItem, onToggleStock, onClose }) => {
            const [isEditing, setIsEditing] = useState(false);
            const [currentItem, setCurrentItem] = useState(null);

            const handleSubmit = (e) => {
                e.preventDefault();
                if (!currentItem.name || !currentItem.description) {
                    return;
                }

                if (isEditing) {
                    onUpdateItem(currentItem);
                } else {
                    onAddItem({
                        ...currentItem,
                        id: Date.now()
                    });
                }
                resetForm();
            };

            const resetForm = () => {
                setCurrentItem({
                    id: Date.now(),
                    name: '',
                    price: 0,
                    stock: 1,
                    enabled: true,
                    description: ''
                });
                setIsEditing(false);
            };

            const handleEdit = (item) => {
                setCurrentItem({ ...item });
                setIsEditing(true);
            };

            const handleDelete = (itemId) => {
                if (window.confirm('Are you sure you want to delete this item?')) {
                    onDeleteItem(itemId);
                }
            };

            // Initialize form
            useEffect(() => {
                resetForm();
            }, []);

            return (
                <motion.div 
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    exit={{ opacity: 0, y: 20 }}
                    className="admin-panel rounded-3xl p-8"
                >
                    <div className="flex justify-between items-center mb-8">
                        <div>
                            <h2 className="text-2xl font-black uppercase italic tracking-tight mb-2">
                                ‚öôÔ∏è Manage {subCategory?.name || category}
                            </h2>
                            <p className="text-gray-400">Add, edit, and manage items with stock control</p>
                        </div>
                        <button 
                            onClick={onClose}
                            className="px-4 py-2 border border-white/10 hover:bg-white/5 rounded-lg transition-all font-bold"
                        >
                            ‚úï Close
                        </button>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        {/* Form Section */}
                        <div className="space-y-6">
                            <h3 className="text-lg font-black uppercase text-theme">
                                {isEditing ? '‚úèÔ∏è Edit Item' : '‚ûï Add New Item'}
                            </h3>
                            
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <div>
                                    <label className="block text-sm font-black uppercase mb-2">Item Name</label>
                                    <input
                                        type="text"
                                        value={currentItem?.name || ''}
                                        onChange={(e) => setCurrentItem({...currentItem, name: e.target.value})}
                                        className="w-full bg-black border border-white/10 p-4 rounded-xl outline-none focus:border-theme transition-all"
                                        required
                                    />
                                </div>
                                
                                <div>
                                    <label className="block text-sm font-black uppercase mb-2">Description</label>
                                    <textarea
                                        value={currentItem?.description || ''}
                                        onChange={(e) => setCurrentItem({...currentItem, description: e.target.value})}
                                        className="w-full bg-black border border-white/10 p-4 rounded-xl outline-none focus:border-theme transition-all"
                                        rows="3"
                                        required
                                    />
                                </div>
                                
                                <div className="grid grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-black uppercase mb-2">Price ($)</label>
                                        <input
                                            type="number"
                                            value={currentItem?.price || 0}
                                            onChange={(e) => setCurrentItem({...currentItem, price: parseFloat(e.target.value) || 0})}
                                            className="w-full bg-black border border-white/10 p-4 rounded-xl outline-none focus:border-theme transition-all"
                                            min="0"
                                            step="0.01"
                                            required
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-black uppercase mb-2">Stock</label>
                                        <input
                                            type="number"
                                            value={currentItem?.stock || 1}
                                            onChange={(e) => setCurrentItem({...currentItem, stock: parseInt(e.target.value) || 0})}
                                            className="w-full bg-black border border-white/10 p-4 rounded-xl outline-none focus:border-theme transition-all"
                                            min="0"
                                            required
                                        />
                                    </div>
                                </div>
                                
                                <div className="flex items-center gap-4 pt-2">
                                    <div className="flex items-center gap-2">
                                        <input
                                            type="checkbox"
                                            id="enabled"
                                            checked={currentItem?.enabled || true}
                                            onChange={(e) => setCurrentItem({...currentItem, enabled: e.target.checked})}
                                            className="w-5 h-5 accent-theme"
                                        />
                                        <label htmlFor="enabled" className="text-sm font-bold">Enabled in Stock</label>
                                    </div>
                                    
                                    <div className="flex gap-2 ml-auto">
                                        {isEditing && (
                                            <button
                                                type="button"
                                                onClick={resetForm}
                                                className="px-6 py-3 border border-white/10 hover:bg-white/5 rounded-xl transition-all"
                                            >
                                                Cancel
                                            </button>
                                        )}
                                        <button
                                            type="submit"
                                            className="px-6 py-3 bg-theme text-black font-black uppercase rounded-xl hover:opacity-90 transition-all"
                                        >
                                            {isEditing ? 'Update Item' : 'Add Item'}
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>

                        {/* Items List Section */}
                        <div>
                            <div className="flex justify-between items-center mb-6">
                                <h3 className="text-lg font-black uppercase text-theme">Current Items ({items.length})</h3>
                                <div className="text-sm text-gray-400 font-bold">
                                    <span className="text-green-500">{items.filter(i => i.enabled).length} enabled</span> ‚Ä¢ 
                                    <span className="text-red-500"> {items.filter(i => !i.enabled).length} disabled</span>
                                </div>
                            </div>
                            
                            <div className="space-y-4 max-h-[400px] overflow-y-auto pr-2">
                                {items.length === 0 ? (
                                    <div className="text-center py-10 border border-dashed border-white/10 rounded-2xl">
                                        <div className="text-4xl mb-4 opacity-30">üì¶</div>
                                        <p className="text-gray-400 font-bold">No items in this category</p>
                                        <p className="text-sm text-gray-500 mt-2">Add your first item using the form</p>
                                    </div>
                                ) : (
                                    items.map(item => (
                                        <ItemCard
                                            key={item.id}
                                            item={item}
                                            onToggleStock={() => onToggleStock(item.id)}
                                            onEdit={() => handleEdit(item)}
                                            onDelete={() => handleDelete(item.id)}
                                            isAdmin={true}
                                        />
                                    ))
                                )}
                            </div>
                        </div>
                    </div>
                </motion.div>
            );
        };

        const Cryptblox = () => {
            const [activeTab, setActiveTab] = useState('home');
            const [subCategory, setSubCategory] = useState(null);
            const [dropdownOpen, setDropdownOpen] = useState(null);
            const [amount, setAmount] = useState(1000);
            const [isThemeModalOpen, setIsThemeModalOpen] = useState(false);
            const [isAdminPanelOpen, setIsAdminPanelOpen] = useState(false);
            const [isLoginModalOpen, setIsLoginModalOpen] = useState(false);
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [searchQuery, setSearchQuery] = useState('');
            const [searchResults, setSearchResults] = useState([]);
            const [showSearchResults, setShowSearchResults] = useState(false);
            
            const [items, setItems] = useState(() => {
                const saved = localStorage.getItem('cryptblox-items');
                return saved ? JSON.parse(saved) : INITIAL_ITEMS_DATA;
            });

            const [currentTheme, setCurrentTheme] = useState(() => {
                const saved = localStorage.getItem('cryptblox-theme');
                return saved ? JSON.parse(saved) : THEME_OPTIONS[0];
            });

            // Save items to localStorage whenever they change
            useEffect(() => {
                localStorage.setItem('cryptblox-items', JSON.stringify(items));
            }, [items]);

            useEffect(() => {
                const root = document.documentElement;
                root.style.setProperty('--theme-color', currentTheme.color);
                root.style.setProperty('--theme-glow', currentTheme.glow);
                root.style.setProperty('--theme-border', currentTheme.color + '33');
                localStorage.setItem('cryptblox-theme', JSON.stringify(currentTheme));
            }, [currentTheme]);

            // Search functionality
            useEffect(() => {
                if (!searchQuery.trim()) {
                    setSearchResults([]);
                    setShowSearchResults(false);
                    return;
                }

                const query = searchQuery.toLowerCase();
                const results = [];

                // Search items
                Object.keys(items).forEach(category => {
                    Object.keys(items[category]).forEach(subCat => {
                        items[category][subCat].forEach(item => {
                            if (item.enabled && (
                                item.name.toLowerCase().includes(query) ||
                                item.description.toLowerCase().includes(query)
                            )) {
                                results.push({
                                    type: 'item',
                                    id: item.id,
                                    name: item.name,
                                    price: item.price,
                                    stock: item.stock,
                                    description: item.description,
                                    category: category,
                                    subCategory: subCat,
                                    item: item
                                });
                            }
                        });
                    });
                });

                // Search suppliers
                SUPPLIERS_DATA.forEach(supplier => {
                    if (supplier.name.toLowerCase().includes(query)) {
                        results.push({
                            type: 'supplier',
                            id: supplier.id,
                            name: supplier.name,
                            rating: supplier.rating,
                            items: supplier.items,
                            status: supplier.status,
                            icon: supplier.icon
                        });
                    }
                });

                // Search categories
                Object.keys(CATEGORIES).forEach(category => {
                    CATEGORIES[category].forEach(subCat => {
                        if (subCat.name.toLowerCase().includes(query) || category.toLowerCase().includes(query)) {
                            const itemCount = items[category]?.[subCat.name]?.filter(i => i.enabled).length || 0;
                            results.push({
                                type: 'category',
                                name: `${subCat.name} (${category})`,
                                category: category,
                                subCategory: subCat.name,
                                count: itemCount,
                                icon: subCat.icon
                            });
                        }
                    });
                });

                setSearchResults(results);
                setShowSearchResults(true);
            }, [searchQuery, items]);

            const getCurrentItems = () => {
                if (!activeTab || !subCategory || !CATEGORIES[activeTab]) return [];
                const currentItems = items[activeTab]?.[subCategory.name] || [];
                
                // Filter by search query if on category page
                if (searchQuery && activeTab !== 'home' && activeTab !== 'suppliers') {
                    const query = searchQuery.toLowerCase();
                    return currentItems.filter(item => 
                        item.enabled && (
                            item.name.toLowerCase().includes(query) ||
                            item.description.toLowerCase().includes(query)
                        )
                    );
                }
                
                return currentItems.filter(item => item.enabled);
            };

            const handleSearch = (query) => {
                setSearchQuery(query);
                if (query.trim()) {
                    setShowSearchResults(true);
                }
            };

            const handleSearchItemSelect = (result) => {
                if (result.type === 'item') {
                    setActiveTab(result.category);
                    setSubCategory({ name: result.subCategory, icon: CATEGORIES[result.category]?.find(c => c.name === result.subCategory)?.icon || 'üì¶' });
                } else if (result.type === 'category') {
                    setActiveTab(result.category);
                    setSubCategory({ name: result.subCategory, icon: result.icon });
                } else if (result.type === 'supplier') {
                    setActiveTab('suppliers');
                }
                setSearchQuery('');
                setShowSearchResults(false);
                setDropdownOpen(null);
            };

            const handleAddItem = (newItem) => {
                if (!activeTab || !subCategory) return;
                
                setItems(prev => ({
                    ...prev,
                    [activeTab]: {
                        ...prev[activeTab],
                        [subCategory.name]: [
                            ...(prev[activeTab]?.[subCategory.name] || []),
                            newItem
                        ]
                    }
                }));
            };

            const handleUpdateItem = (updatedItem) => {
                if (!activeTab || !subCategory) return;
                
                setItems(prev => ({
                    ...prev,
                    [activeTab]: {
                        ...prev[activeTab],
                        [subCategory.name]: prev[activeTab][subCategory.name].map(item =>
                            item.id === updatedItem.id ? updatedItem : item
                        )
                    }
                }));
            };

            const handleDeleteItem = (itemId) => {
                if (!activeTab || !subCategory) return;
                
                setItems(prev => ({
                    ...prev,
                    [activeTab]: {
                        ...prev[activeTab],
                        [subCategory.name]: prev[activeTab][subCategory.name].filter(item => item.id !== itemId)
                    }
                }));
            };

            const handleToggleStock = (itemId) => {
                if (!activeTab || !subCategory) return;
                
                setItems(prev => ({
                    ...prev,
                    [activeTab]: {
                        ...prev[activeTab],
                        [subCategory.name]: prev[activeTab][subCategory.name].map(item =>
                            item.id === itemId ? { ...item, enabled: !item.enabled } : item
                        )
                    }
                }));
            };

            const handleLogin = () => {
                setIsLoggedIn(true);
                localStorage.setItem('cryptblox-admin', 'true');
            };

            const handleLogout = () => {
                setIsLoggedIn(false);
                setIsAdminPanelOpen(false);
                localStorage.removeItem('cryptblox-admin');
            };

            // Check if already logged in
            useEffect(() => {
                const loggedIn = localStorage.getItem('cryptblox-admin') === 'true';
                if (loggedIn) {
                    setIsLoggedIn(true);
                }
            }, []);

            const navAction = (tab, sub = null) => {
                setActiveTab(tab);
                setSubCategory(sub);
                setDropdownOpen(null);
                setIsAdminPanelOpen(false);
                setSearchQuery('');
                setShowSearchResults(false);
            };

            const openAdminPanel = () => {
                if (isLoggedIn) {
                    setIsAdminPanelOpen(true);
                } else {
                    setIsLoginModalOpen(true);
                }
            };

            const ContentDisplay = () => {
                const currentItems = getCurrentItems();
                const enabledItems = currentItems.filter(item => item.enabled);

                if (activeTab === 'home') {
                    return (
                        <motion.div key="home" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="text-center py-20">
                            <motion.h1 initial={{ scale: 0.8 }} animate={{ scale: 1 }} className="text-8xl font-black uppercase italic tracking-tighter text-white">CRYPT<span className="text-theme">BLOX</span></motion.h1>
                            <motion.div className="breathing-line" animate={{ width: ["80px", "350px", "80px"], opacity: [0.2, 1, 0.2] }} transition={{ duration: 4, repeat: Infinity }} />
                            <p className="text-gray-500 tracking-[0.5em] uppercase text-xs mt-4 font-bold">The Ultimate Digital Market</p>
                            
                            {/* Search on Home */}
                            {searchQuery && (
                                <div className="max-w-2xl mx-auto mt-12">
                                    <h3 className="text-2xl font-black uppercase italic mb-6 text-theme">
                                        Search Results for "{searchQuery}"
                                    </h3>
                                    {enabledItems.length > 0 ? (
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            {enabledItems.map(item => (
                                                <ItemCard
                                                    key={item.id}
                                                    item={item}
                                                    onToggleStock={() => handleToggleStock(item.id)}
                                                    onEdit={() => {}}
                                                    onDelete={() => {}}
                                                    isAdmin={isLoggedIn}
                                                    highlightQuery={searchQuery}
                                                />
                                            ))}
                                        </div>
                                    ) : (
                                        <div className="vault-card p-10 rounded-3xl text-center">
                                            <div className="text-6xl mb-6 opacity-30">üîç</div>
                                            <h3 className="text-2xl font-black uppercase italic mb-4">No results found</h3>
                                            <p className="text-gray-400">Try searching for something else or browse our categories</p>
                                        </div>
                                    )}
                                </div>
                            )}
                            
                            {!searchQuery && (
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-8 mt-20 text-left">
                                    {[
                                        { icon: '‚ú®', title: 'Rare Assets', desc: 'Secure high-tier limiteds and exclusive digital goods.' },
                                        { icon: 'üõ°Ô∏è', title: 'Verified Safe', desc: 'Encrypted transaction protocols for your safety.' },
                                        { icon: 'üí∞', title: 'Market Rates', desc: 'The most competitive pricing across the platform.' }
                                    ].map((panel, i) => (
                                        <motion.div key={i} whileHover={{ y: -5 }} className="vault-card panel-glow p-8 rounded-[2rem]">
                                            <div className="text-3xl mb-4">{panel.icon}</div>
                                            <h3 className="text-theme font-black mb-4 uppercase italic text-xl">{panel.title}</h3>
                                            <p className="text-gray-400 text-sm leading-relaxed">{panel.desc}</p>
                                        </motion.div>
                                    ))}
                                </div>
                            )}
                        </motion.div>
                    );
                }

                if (activeTab === 'robux') {
                    return (
                        <motion.div key="rbx" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0 }} className="max-w-xl mx-auto vault-card p-10 rounded-[3rem] text-center shadow-2xl">
                            <h2 className="text-4xl font-black mb-6 italic uppercase">Currency Supply</h2>
                            <input type="number" value={amount} onChange={(e) => setAmount(e.target.value)} className="w-full bg-black border border-white/10 p-6 rounded-2xl text-4xl font-extrabold text-center text-theme outline-none mb-6 focus:border-theme transition-all" />
                            <div className="bg-white/5 p-4 rounded-xl mb-6 flex justify-between items-center">
                                <span className="text-gray-400 text-xs font-bold uppercase">Total Price</span>
                                <span className="text-2xl font-black text-white">${((amount / 1000) * 4.5).toFixed(2)}</span>
                            </div>
                            <button className="w-full bg-theme text-black py-6 rounded-2xl font-black text-xl uppercase hover:scale-[1.02] transition-transform">Secure Assets</button>
                        </motion.div>
                    );
                }

                if (activeTab === 'checkout') {
                    return (
                        <motion.div key="checkout-page" initial={{ opacity: 0, scale: 0.9 }} animate={{ opacity: 1, scale: 1 }} exit={{ opacity: 0 }}>
                            <EmptyState title="YOUR CART IS EMPTY" />
                        </motion.div>
                    );
                }

                if (activeTab === 'suppliers') {
                    return (
                        <motion.div key="suppliers" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>
                            {/* Become Supplier Section - At the Top */}
                            <BecomeSupplierSection />
                            
                            <div className="flex justify-between items-center mb-8">
                                <div>
                                    <h1 className="text-5xl font-black uppercase italic tracking-tighter mb-2">
                                        ü§ù TRUSTED SUPPLIERS
                                    </h1>
                                    <p className="text-gray-400 font-bold">
                                        {SUPPLIERS_DATA.length} verified suppliers ‚Ä¢ Premium sourcing network
                                    </p>
                                </div>
                                {isLoggedIn && (
                                    <button className="px-6 py-3 bg-theme text-black font-black uppercase rounded-xl hover:opacity-90 transition-all flex items-center gap-2">
                                        ‚öôÔ∏è Manage Suppliers
                                    </button>
                                )}
                            </div>

                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
                                {SUPPLIERS_DATA.map(supplier => (
                                    <SupplierCard key={supplier.id} supplier={supplier} />
                                ))}
                            </div>

                            <div className="vault-card p-8 rounded-3xl">
                                <h3 className="text-2xl font-black uppercase italic mb-6 text-theme">Supplier Benefits</h3>
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    {[
                                        { icon: 'üíé', title: 'Premium Rates', desc: 'Highest payout rates in the market' },
                                        { icon: 'üõ°Ô∏è', title: 'Secure Payments', desc: 'Guaranteed payments, no chargebacks' },
                                        { icon: '‚ö°', title: 'Fast Processing', desc: '24/7 support and quick approvals' }
                                    ].map((benefit, i) => (
                                        <div key={i} className="p-6 border border-white/10 rounded-2xl">
                                            <div className="text-3xl mb-4">{benefit.icon}</div>
                                            <h4 className="font-black uppercase mb-2">{benefit.title}</h4>
                                            <p className="text-gray-400 text-sm">{benefit.desc}</p>
                                        </div>
                                    ))}
                                </div>
                                
                                {/* Bottom CTA */}
                                <div className="mt-10 pt-8 border-t border-white/10 text-center">
                                    <h4 className="text-xl font-black uppercase mb-4">Ready to Join Our Network?</h4>
                                    <p className="text-gray-400 mb-6 max-w-2xl mx-auto">
                                        Become a supplier and start earning premium rates for your digital assets today.
                                    </p>
                                    <button 
                                        onClick={() => window.open(DISCORD_LINK, '_blank')}
                                        className="become-supplier-btn px-10 py-4 rounded-xl font-black uppercase tracking-wider text-lg flex items-center gap-3 mx-auto"
                                    >
                                        <svg width="24" height="24" fill="white" viewBox="0 0 24 24">
                                            <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.862-1.297 1.197-1.99a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.863-.886.077.077 0 0 1-.008-.128c.125-.094.248-.192.366-.293a.077.077 0 0 1 .081-.01c3.927 1.795 8.18 1.795 12.067 0a.076.076 0 0 1 .081.01c.118.101.241.199.366.293a.077.077 0 0 1-.007.128 12.933 12.933 0 0 1-1.863.886.076.076 0 0 0-.041.106c.335.693.735 1.36 1.197 1.99a.078.078 0 0 0 .084.028 19.83 19.83 0 0 0 6.024-3.03.077.077 0 0 0 .032-.057c.48-5.147-.815-9.645-3.578-13.66a.071.071 0 0 0-.033-.027zM8.02 15.33c-1.18 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.18 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
                                        </svg>
                                        Apply Now on Discord
                                    </button>
                                </div>
                            </div>
                        </motion.div>
                    );
                }

                // For Limiteds, Accounts, Items sections
                return (
                    <motion.div key={`${activeTab}-${subCategory?.name}`} initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>
                        <div className="flex justify-between items-center mb-8">
                            <div>
                                <h1 className="text-5xl font-black uppercase italic tracking-tighter mb-2">
                                    {subCategory?.icon} {subCategory?.name.toUpperCase()}
                                    {searchQuery && (
                                        <span className="text-lg ml-4 text-theme">
                                            ‚Ä¢ Search: "{searchQuery}"
                                        </span>
                                    )}
                                </h1>
                                <p className="text-gray-400 font-bold">
                                    {enabledItems.length} items available ‚Ä¢ {currentItems.filter(item => !item.enabled).length} disabled
                                    {isLoggedIn && (
                                        <span className="ml-4 text-theme">
                                            ‚öôÔ∏è Admin Mode Active
                                        </span>
                                    )}
                                </p>
                            </div>
                            <div className="flex gap-3">
                                {isLoggedIn ? (
                                    <>
                                        <button
                                            onClick={openAdminPanel}
                                            className="px-6 py-3 bg-theme text-black font-black uppercase rounded-xl hover:opacity-90 transition-all flex items-center gap-2"
                                        >
                                            ‚öôÔ∏è Manage Items
                                        </button>
                                        <button
                                            onClick={handleLogout}
                                            className="px-4 py-3 border border-white/10 hover:bg-white/5 rounded-xl transition-all font-bold"
                                        >
                                            Logout
                                        </button>
                                    </>
                                ) : (
                                    <button
                                        onClick={openAdminPanel}
                                        className="px-6 py-3 border border-theme text-theme font-black uppercase rounded-xl hover:bg-theme hover:text-black transition-all flex items-center gap-2"
                                    >
                                        üîí Admin Login
                                    </button>
                                )}
                            </div>
                        </div>

                        {enabledItems.length === 0 ? (
                            <EmptyState title={`NO ${subCategory?.name.toUpperCase()} AVAILABLE`} />
                        ) : (
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                {enabledItems.map(item => (
                                    <ItemCard
                                        key={item.id}
                                        item={item}
                                        onToggleStock={() => handleToggleStock(item.id)}
                                        onEdit={() => {}}
                                        onDelete={() => {}}
                                        isAdmin={isLoggedIn}
                                        highlightQuery={searchQuery}
                                    />
                                ))}
                            </div>
                        )}
                    </motion.div>
                );
            };

            const EmptyState = ({ title }) => (
                <motion.div 
                    initial={{ opacity: 0, y: 20 }} 
                    animate={{ opacity: 1, y: 0 }} 
                    exit={{ opacity: 0, scale: 0.95 }}
                    className="flex flex-col items-center justify-center py-20 px-6 text-center vault-card rounded-[3rem] border-dashed border-2"
                >
                    <div className="text-6xl mb-6 opacity-30">üì¶</div>
                    <h2 className="text-3xl font-black uppercase italic tracking-tighter mb-4 text-theme">{title}</h2>
                    <p className="text-gray-400 max-w-md leading-relaxed mb-8 font-bold italic">
                        {activeTab && subCategory 
                            ? "No items currently available in this category."
                            : "This sector of the vault is currently restricted or empty."}
                    </p>
                    <div className="flex gap-4">
                        <button onClick={() => {setActiveTab('home'); setSubCategory(null);}} className="px-6 py-3 border border-white/10 hover:bg-white/5 rounded-xl transition-all font-bold">Return Home</button>
                        {activeTab && subCategory && (
                            <button onClick={openAdminPanel} className="px-6 py-3 bg-theme text-black font-black uppercase rounded-xl hover:opacity-90 transition-all">
                                {isLoggedIn ? 'Add Items' : 'Admin Login'}
                            </button>
                        )}
                    </div>
                </motion.div>
            );

            return (
                <div className="min-h-screen relative">
                    <ParticleFall themeColor={currentTheme.color} />

                    <nav className="glass-nav sticky top-0 z-[100] px-8 py-5">
                        <div className="max-w-7xl mx-auto flex items-center">
                            <div className="flex items-center gap-2">
                                <button onClick={() => setIsThemeModalOpen(true)} className="flex items-center gap-2 px-4 py-2 bg-white/5 rounded-lg border border-white/10 text-[10px] font-black uppercase hover:bg-white/10 transition-all">
                                    <div className="w-2 h-2 rounded-full bg-theme" style={{ boxShadow: `0 0 8px ${currentTheme.color}` }} />
                                    Theme
                                </button>
                                {isLoggedIn && (
                                    <button 
                                        onClick={handleLogout}
                                        className="px-3 py-2 bg-red-500/20 text-red-400 rounded-lg text-[10px] font-black uppercase hover:bg-red-500/30 transition-all"
                                    >
                                        Logout
                                    </button>
                                )}
                            </div>

                            <div onClick={() => navAction('home')} className="text-2xl font-black italic tracking-tighter text-theme uppercase cursor-pointer ml-8 mr-auto">
                                CRYPT<span className="text-white">BLOX</span>
                            </div>

                            {/* Search Bar */}
                            <div className="relative mx-6 w-full max-w-md">
                                <SearchBar 
                                    onSearch={handleSearch}
                                    searchQuery={searchQuery}
                                    onClear={() => setSearchQuery('')}
                                    onItemSelect={handleSearchItemSelect}
                                />
                                
                                <AnimatePresence>
                                    {showSearchResults && searchQuery && (
                                        <SearchResults 
                                            results={searchResults}
                                            query={searchQuery}
                                            onItemSelect={handleSearchItemSelect}
                                            onClose={() => setShowSearchResults(false)}
                                        />
                                    )}
                                </AnimatePresence>
                            </div>

                            <div className="flex items-center gap-4">
                                {Object.keys(CATEGORIES).map(category => (
                                    <div key={category} className="relative" onMouseEnter={() => setDropdownOpen(category)} onMouseLeave={() => setDropdownOpen(null)}>
                                        <button className={`px-2 py-2 text-sm font-extrabold uppercase transition-all tracking-tight ${activeTab === category ? 'text-theme' : 'text-gray-400 hover:text-white'}`}>
                                            {category} ‚ñº
                                        </button>
                                        <AnimatePresence>
                                            {dropdownOpen === category && (
                                                <motion.div initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0 }} className="absolute top-full right-0 w-56 bg-[#0f0f0f] border border-white/10 p-2 rounded-xl mt-2 shadow-2xl z-[1000]">
                                                    {CATEGORIES[category].map(cat => (
                                                        <div key={cat.name} onClick={() => navAction(category, cat)} className="p-3 hover:bg-white/5 rounded-lg text-xs font-black cursor-pointer flex items-center gap-3 uppercase">
                                                            <span>{cat.icon}</span> {cat.name}
                                                        </div>
                                                    ))}
                                                </motion.div>
                                            )}
                                        </AnimatePresence>
                                    </div>
                                ))}

                                <button onClick={() => navAction('suppliers')} className={`px-2 py-2 text-sm font-extrabold uppercase tracking-tight ${activeTab === 'suppliers' ? 'text-theme' : 'text-gray-400 hover:text-white'}`}>Suppliers</button>
                                <button onClick={() => navAction('robux')} className={`px-2 py-2 text-sm font-extrabold uppercase tracking-tight ${activeTab === 'robux' ? 'text-theme' : 'text-gray-400 hover:text-white'}`}>Robux</button>
                                <button onClick={() => navAction('checkout')} className={`px-5 py-2 text-sm font-black uppercase border-2 border-white/10 rounded-xl ml-4 transition-all ${activeTab === 'checkout' ? 'bg-theme text-black' : 'text-theme hover:bg-theme hover:text-black'}`}>Checkout</button>
                            </div>
                        </div>
                    </nav>

                    <AnimatePresence>
                        {isThemeModalOpen && (
                            <div className="fixed inset-0 z-[200] flex items-center justify-center p-6">
                                <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} onClick={() => setIsThemeModalOpen(false)} className="absolute inset-0 bg-black/90 backdrop-blur-sm" />
                                <motion.div initial={{ scale: 0.9, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} exit={{ scale: 0.9, opacity: 0 }} className="relative w-full max-w-2xl bg-[#050505] border border-white/10 rounded-2xl p-8">
                                    <div className="flex justify-between items-center mb-8">
                                        <h2 className="text-2xl font-extrabold tracking-tight uppercase italic">Visual Overrides</h2>
                                        <button onClick={() => setIsThemeModalOpen(false)} className="text-gray-500 hover:text-white">‚úï</button>
                                    </div>
                                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                        {THEME_OPTIONS.map((t) => (
                                            <div key={t.id} onClick={() => { setCurrentTheme(t); setIsThemeModalOpen(false); }} className={`theme-card p-5 rounded-xl flex flex-col justify-between h-28 ${currentTheme.id === t.id ? 'active' : ''}`}>
                                                <div className="flex justify-between items-start">
                                                    <span className="font-bold text-lg">{t.name}</span>
                                                    <div className="w-3 h-3 rounded-full" style={{ backgroundColor: t.color, boxShadow: `0 0 10px ${t.color}` }} />
                                                </div>
                                                <span className="text-xs text-gray-500 font-semibold">{t.label}</span>
                                            </div>
                                        ))}
                                    </div>
                                </motion.div>
                            </div>
                        )}

                        {isLoginModalOpen && (
                            <LoginModal
                                onLogin={handleLogin}
                                onClose={() => setIsLoginModalOpen(false)}
                            />
                        )}

                        {isAdminPanelOpen && activeTab && subCategory && isLoggedIn && (
                            <div className="fixed inset-0 z-[200] flex items-center justify-center p-6">
                                <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} onClick={() => setIsAdminPanelOpen(false)} className="absolute inset-0 bg-black/90 backdrop-blur-sm" />
                                <AdminPanel
                                    category={activeTab}
                                    subCategory={subCategory}
                                    items={getCurrentItems()}
                                    onAddItem={handleAddItem}
                                    onUpdateItem={handleUpdateItem}
                                    onDeleteItem={handleDeleteItem}
                                    onToggleStock={handleToggleStock}
                                    onClose={() => setIsAdminPanelOpen(false)}
                                />
                            </div>
                        )}
                    </AnimatePresence>

                    <main className="max-w-6xl mx-auto p-6 py-12 relative z-10">
                        <AnimatePresence mode="wait">
                            <ContentDisplay />
                        </AnimatePresence>
                    </main>

                    <div className="fixed bottom-0 w-full bg-black border-t border-white/10 py-2 overflow-hidden z-[50]">
                        <motion.div initial={{ x: "100%" }} animate={{ x: "-100%" }} transition={{ repeat: Infinity, duration: 25, ease: "linear" }} className="flex gap-20 items-center whitespace-nowrap">
                            <span className="text-[10px] font-black text-theme uppercase tracking-widest italic">CRYPTBLOX SECURITY: VERIFIED</span>
                            <span className="text-[10px] font-black text-white uppercase tracking-widest font-bold">ESTABLISHED 2026 - THE DIGITAL STANDARD</span>
                        </motion.div>
                    </div>

                    <motion.a href={DISCORD_LINK} target="_blank" whileHover={{ scale: 1.1 }} className="fixed bottom-12 right-8 z-[100] discord-button w-14 h-14 rounded-full flex items-center justify-center text-2xl shadow-2xl">
                        <svg width="24" height="24" fill="white" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.862-1.297 1.197-1.99a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.863-.886.077.077 0 0 1-.008-.128c.125-.094.248-.192.366-.293a.077.077 0 0 1 .081-.01c3.927 1.795 8.18 1.795 12.067 0a.076.076 0 0 1 .081.01c.118.101.241.199.366.293a.077.077 0 0 1-.007.128 12.933 12.933 0 0 1-1.863.886.076.076 0 0 0-.041.106c.335.693.735 1.36 1.197 1.99a.078.078 0 0 0 .084.028 19.83 19.83 0 0 0 6.024-3.03.077.077 0 0 0 .032-.057c.48-5.147-.815-9.645-3.578-13.66a.071.071 0 0 0-.033-.027zM8.02 15.33c-1.18 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.18 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/></svg>
                    </motion.a>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Cryptblox />);
    </script>
</body>
<html>
    <body class="bg-black text-white font-sans overflow-x-hidden">
    <div id="root"></div>
    <script type="text/babel">
        
            const handleAddItem = (newItem) => {
                if (!activeTab || !subCategory) return;
                
                setItems(prev => ({
                    ...prev,
                    [activeTab]: {
                        ...prev[activeTab],
                        [subCategory.name]: [...prev[activeTab][subCategory.name], newItem]
                    }
                }));
            };

            const handleUpdateItem = (updatedItem) => {
                if (!activeTab || !subCategory) return;
                
                setItems(prev => ({
                    ...prev,
                    [activeTab]: {
                        ...prev[activeTab],
                        [subCategory.name]: prev[activeTab][subCategory.name].map(item =>
                            item.id === updatedItem.id ? updatedItem : item
                        )
                    }
                }));
            };

            const handleDeleteItem = (itemId) => {
                if (!activeTab || !subCategory) return;
                
                setItems(prev => ({
                    ...prev,
                    [activeTab]: {
                        ...prev[activeTab],
                        [subCategory.name]: prev[activeTab][subCategory.name].filter(item => item.id !== itemId)
                    }
                }));
            };